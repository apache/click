<html>
<head>
 <link rel="stylesheet" type="text/css" href="../../help.css">
</head>
<body>
<h1>Velocity</h1>
Velocity is a Java-based template framework which provides the HTML rending engine 
for Click. Velocity is very easy to learn, simple to use, and is also very capable.
<p>
<a href="http://jakarta.apache.org/velocity">Velocity</a> is an open source 
<a href="http://jakarta.apache.org">Jakarta</a> Apache project licensed using 
the <a href="LICENSE.txt">Apache</a> Software License.
<p>
Velocity's comprehensive online documentation is included in this distribution.
<ul>
  <li><a href="user-guide.html">Users Guide</a> - Velocity users guide
  </li>
  <li><a href="developer-guide.html">Developers Guide</a> - Velocity developers configuration guide
  </li>
  <li><a href="vtl-reference-guide.html">VTL Reference</a> - Velocity Template Language (VTL) reference guide
  </li>
</ul>

<p>&nbsp;</p>

<h2>Object References</h2>
With Click you add objects to your page template using the Page's model. You can then access these objects
using Velocities <span class="red">$</span> reference notation. By default the ClickServlet adds the 
following objects to page templates:
<ul style="margin-bottom: 1.5em;">
  <li><span class="st">context</span> &nbsp; - &nbsp;
    the Servlet context path, e.g. <span class="blue">/mycorp</span>
  </li>  
  <li><span class="st">format</span> &nbsp; - &nbsp; 
    the <a href="../click-api/net/sf/click/util/Format.html">Format</a> 
    object for formatting the display of objects.
  </li>
  <li><span class="st">messages</span> &nbsp; - &nbsp; 
   the <a target="topic" href="../click-api/net/sf/click/util/MessagesMap.html">MessagesMap</a> adaptor
   for the Page <a href="../click-api/net/sf/click/Page.html#getMessage(java.lang.String)">getMessage()</a>
   method.
  </li>
  <li><span class="st">path</span> &nbsp; - &nbsp; 
    the <a href="../click-api/net/sf/click/Page.html#path">path</a> 
    of the page template to render.
  </li>
  <li><span class="st">request</span> &nbsp; - &nbsp; 
    the pages <a href="../servlet-api/javax/servlet/http/HttpServletRequest.html">HttpServletRequest</a>
    object.
  </li>
  <li><span class="st">response</span> &nbsp; - &nbsp; 
    the pages <a href="../servlet-api/javax/servlet/http/HttpServletResponse.html">HttpServletResponse</a>
    object.
  </li>
  <li><span class="st">session</span> &nbsp; - &nbsp; 
   the <a target="topic" href="../click-api/net/sf/click/util/SessionMap.html">SessionMap</a> adaptor
   for the users <a href="../servlet-api/javax/servlet/http/HttpSession.html">HttpSession</a>.
  </li>
</ul>

In your page templates you can access object references using a dot path notation. For example:

<pre class="codeHtml">
Welcome: <span class="red">$</span><a target="topic" href="../click-api/net/sf/click/util/SessionMap.html">session</a>.user.fullName
</pre>

Or by using a more explicit Java notation:

<pre class="codeHtml">
Welcome: <span class="red">$</span><a target="topic" href="../click-api/net/sf/click/util/SessionMap.html">session</a>.get("user").getFullName()
</pre>

<h2>Directives</h2>
In Velocity directives are prefixed by a <span class="red">#</span> symbol. While
references access stuff, directives do stuff. The full set of Velocity directives are:

<ul style="margin-bottom: 1.5em;"> 
  <li><a href="vtl-reference-guide.html#if">#if #elseif #else</a> &nbsp; - &nbsp; 
    output conditional on truth of statements.<p>
  </li>
  <li><a href="vtl-reference-guide.html#foreach">#foreach</a> &nbsp; - &nbsp; 
     loops through a list of objects.<p>
    <p>
  </li>
  <li><a href="vtl-reference-guide.html#macro">#macro</a> &nbsp; - &nbsp; 
   allows users to define a Velocimacro (VM), a repeated segment of a VTL template, as required. <p>
  </li>
  <li><a href="vtl-reference-guide.html#set">#set</a> &nbsp; - &nbsp;
   establishes the value of a reference.<p> 
  </li> 
  <li><a href="vtl-reference-guide.html#include">#include</a> &nbsp; - &nbsp; 
   renders local file(s) that are not parsed by Velocity.<p>
  </li>
  <li><a href="vtl-reference-guide.html#parse">#parse</a> &nbsp; - &nbsp; 
   renders a local template that is parsed by Velocity. <p>
  </li>
  <li><a href="vtl-reference-guide.html#stop">#stop</a> &nbsp; - &nbsp; 
   stops the template engine. <p>
  </li>
</ul>

</body>
</html>

